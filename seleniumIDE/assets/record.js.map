{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./content/record.js","webpack:///./content/record-api.js","webpack:///./content/prompt-recorder.js","webpack:///./common/utils.js","webpack:///../node_modules/ua-parser-js/src/ua-parser.js","webpack:///../node_modules/webpack/buildin/amd-options.js"],"names":["root","factory","exports","module","define","amd","a","i","self","this","__webpack_require__","d","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_2__record_api__","locatorBuilders","__WEBPACK_IMPORTED_MODULE_4__locatorBuilders__","window","mousedown","mouseup","selectMouseup","selectMousedown","mouseoverQ","clickLocator","dropLocator","dragstartLocator","Object","__WEBPACK_IMPORTED_MODULE_3__prompt_recorder__","inputTypes","addEventHandler","event","target","tagName","recordingState","preventType","typeLock","toLowerCase","type","indexOf","value","length","buildAll","enterTarget","tempTarget","parentElement","formChk","typeTarget","button","preventClick","__WEBPACK_IMPORTED_MODULE_5__common_utils__","isTrusted","eventIsTrusted","preventClickTwice","setTimeout","key","keyCode","enterValue","tempValue","tabCheck","focusValue","tempbool","focusTarget","clientX","document","documentElement","clientWidth","clientY","clientHeight","undefined","nodeName","parent","parentNode","multiple","options","_wasSelected","selected","clearTimeout","x","y","text","activeEl","activeElement","activeElTagName","slice","selectionStart","selectionEnd","getSelection","toString","trim","getSelectionText","targetRelateX","targetRelateY","sourceRelateX","pageX","getBoundingClientRect","left","scrollX","sourceRelateY","pageY","top","scrollY","relatedTarget","build","scrollDetector","prevTimeOut","pageLoaded","mouseoverLocator","nodeInsertedLocator","nodeInsertedAttrChange","nowNode","getElementsByTagName","findClickableElement","e","hasAttribute","shift","push","mouseoutLocator","addMutationObserver","mutations","forEach","async","removedNodes","mutation","id","__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default","runtime","sendMessage","frameRemoved","catch","childList","reduce","nodes","apply","addedNodes","subtree","getEle","readyTimeOut","readyState","myPort","connect","tmpText","tmpVal","__WEBPACK_IMPORTED_MODULE_1__closure_polyfill__","dom","getVisibleText","tmpTitle","string","normalizeSpaces","ownerDocument","title","onMessage","addListener","m","cmd","includes","removeListener","contentTest","checkFocus","getOptionLocator","option","label","replace","match","str","contentEditable","innerHTML","attachRecorderRequest","reason","prototype","selectedIndex","then","shouldAttach","attach","__WEBPACK_IMPORTED_MODULE_1__utils__","recordingIndicator","contentSideexTabId","frameLocation","Recorder","eventListeners","attached","updateInputElementsOfRelevantType","action","inp","focusEvent","blurEvent","eventHandlers","mutationObservers","handlerName","eventName","handler","observerName","callback","config","observer","MutationObserver","parseEventKey","eventKey","substring","capture","eventInfo","handlers","addEventListener","bind","observe","body","input","addRecordingIndicator","detach","removeEventListener","disconnect","removeRecordingIndicator","recorder","indicatorIndex","frames","createElement","src","getURL","style","border","borderRadius","position","bottom","right","width","height","transition","visibility","appendChild","message","sender","sendResponse","recordNotification","contentWindow","postMessage","direction","command","borderColor","setFrameNumberForTab","removeChild","getFrameLocation","currentParentWindow","recordingIndicatorIndex","frameCount","currentWindow","requestFrameCount","idx","targetFrameIndex","record","insertBeforeLastCommand","actualFrameLocation","commandSideexTabId","_sender","attachRecorder","detachRecorder","recalculateFrameLocation","source","data","recordedType","recordedResult","recordedMessage","userAgent","__WEBPACK_IMPORTED_MODULE_0_ua_parser_js___default","navigator","__WEBPACK_AMD_DEFINE_RESULT__","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","util","extend","regexes","extensions","margedRegexes","concat","has","str1","str2","lowerize","major","version","split","mapper","rgx","ua","arrays","j","k","p","q","matches","regex","props","exec","call","test","map","maps","browser","oldsafari","1.0","1.2","1.3","2.0","2.0.2","2.0.3","2.0.4","?","device","amazon","model","Fire Phone","sprint","Evo Shift 4G","vendor","HTC","Sprint","os","windows","ME","NT 3.11","NT 4.0","2000","XP","Vista","7","8","8.1","10","RT","cpu","engine","UAParser","uastring","getResult","rgxmap","getBrowser","name","getCPU","architecture","getDevice","getEngine","getOS","getUA","setUA","BROWSER","MAJOR","CPU","DEVICE","EMBEDDED","ENGINE","OS","$","jQuery","Zepto","parser","get","set","result","prop","__webpack_amd_options__"],"mappings":"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","file":"record.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","/* eslint no-unused-vars: off, no-useless-escape: off */\n// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\nimport browser from 'webextension-polyfill'\nimport goog, { bot } from './closure-polyfill'\nimport { Recorder, recorder, record } from './record-api'\nimport { attach } from './prompt-recorder'\nimport LocatorBuilders from './locatorBuilders'\nimport { isTest, isFirefox } from '../common/utils'\n\nexport { record }\nexport const locatorBuilders = new LocatorBuilders(window)\n\nattach(record)\n\nRecorder.inputTypes = [\n  'text',\n  'password',\n  'file',\n  'datetime',\n  'datetime-local',\n  'date',\n  'month',\n  'time',\n  'week',\n  'number',\n  'range',\n  'email',\n  'url',\n  'search',\n  'tel',\n  'color',\n]\nRecorder.addEventHandler('type', 'change', function(event) {\n  // © Chen-Chieh Ping, SideeX Team\n  if (\n    event.target.tagName &&\n    !this.recordingState.preventType &&\n    this.recordingState.typeLock == 0 &&\n    (this.recordingState.typeLock = 1)\n  ) {\n    // END\n    let tagName = event.target.tagName.toLowerCase()\n    let type = event.target.type\n    if ('input' == tagName && Recorder.inputTypes.indexOf(type) >= 0) {\n      if (event.target.value.length > 0) {\n        record(\n          'type',\n          locatorBuilders.buildAll(event.target),\n          event.target.value\n        )\n\n        // © Chen-Chieh Ping, SideeX Team\n        if (this.recordingState.enterTarget != null) {\n          let tempTarget = event.target.parentElement\n          let formChk = tempTarget.tagName.toLowerCase()\n          while (formChk != 'form' && formChk != 'body') {\n            tempTarget = tempTarget.parentElement\n            formChk = tempTarget.tagName.toLowerCase()\n          }\n\n          record(\n            'sendKeys',\n            locatorBuilders.buildAll(this.recordingState.enterTarget),\n            '${KEY_ENTER}'\n          )\n          this.recordingState.enterTarget = null\n        }\n        // END\n      } else {\n        record(\n          'type',\n          locatorBuilders.buildAll(event.target),\n          event.target.value\n        )\n      }\n    } else if ('textarea' == tagName) {\n      record('type', locatorBuilders.buildAll(event.target), event.target.value)\n    }\n  }\n  this.recordingState.typeLock = 0\n})\n\nRecorder.addEventHandler('type', 'input', function(event) {\n  this.recordingState.typeTarget = event.target\n})\n\nfunction eventIsTrusted(event) {\n  return isTest ? true : event.isTrusted\n}\n\n// © Jie-Lin You, SideeX Team\nRecorder.addEventHandler(\n  'clickAt',\n  'click',\n  function(event) {\n    if (\n      event.button == 0 &&\n      !this.recordingState.preventClick &&\n      eventIsTrusted(event)\n    ) {\n      if (!this.recordingState.preventClickTwice) {\n        record('click', locatorBuilders.buildAll(event.target), '')\n        this.recordingState.preventClickTwice = true\n      }\n      setTimeout(() => {\n        this.recordingState.preventClickTwice = false\n      }, 30)\n    }\n  },\n  true\n)\n// END\n\n// © Chen-Chieh Ping, SideeX Team\nRecorder.addEventHandler(\n  'doubleClickAt',\n  'dblclick',\n  function(event) {\n    record('doubleClick', locatorBuilders.buildAll(event.target), '')\n  },\n  true\n)\n// END\n\nRecorder.addEventHandler(\n  'sendKeys',\n  'keydown',\n  function(event) {\n    if (event.target.tagName) {\n      let key = event.keyCode\n      let tagName = event.target.tagName.toLowerCase()\n      let type = event.target.type\n      if (tagName == 'input' && Recorder.inputTypes.indexOf(type) >= 0) {\n        if (key == 13) {\n          this.recordingState.enterTarget = event.target\n          this.recordingState.enterValue = this.recordingState.enterTarget.value\n          let tempTarget = event.target.parentElement\n          let formChk = tempTarget.tagName.toLowerCase()\n          if (\n            this.recordingState.tempValue ==\n              this.recordingState.enterTarget.value &&\n            this.recordingState.tabCheck == this.recordingState.enterTarget\n          ) {\n            record(\n              'sendKeys',\n              locatorBuilders.buildAll(this.recordingState.enterTarget),\n              '${KEY_ENTER}'\n            )\n            this.recordingState.enterTarget = null\n            this.recordingState.preventType = true\n          } else if (\n            this.recordingState.focusValue == this.recordingState.enterValue\n          ) {\n            while (formChk != 'form' && formChk != 'body') {\n              tempTarget = tempTarget.parentElement\n              formChk = tempTarget.tagName.toLowerCase()\n            }\n            record(\n              'sendKeys',\n              locatorBuilders.buildAll(this.recordingState.enterTarget),\n              '${KEY_ENTER}'\n            )\n            this.recordingState.enterTarget = null\n          }\n          if (\n            this.recordingState.typeTarget &&\n            this.recordingState.typeTarget.tagName &&\n            !this.recordingState.preventType &&\n            (this.recordingState.typeLock = 1)\n          ) {\n            // END\n            tagName = this.recordingState.typeTarget.tagName.toLowerCase()\n            type = this.recordingState.typeTarget.type\n            if ('input' == tagName && Recorder.inputTypes.indexOf(type) >= 0) {\n              if (this.recordingState.typeTarget.value.length > 0) {\n                record(\n                  'type',\n                  locatorBuilders.buildAll(this.recordingState.typeTarget),\n                  this.recordingState.typeTarget.value\n                )\n\n                // © Chen-Chieh Ping, SideeX Team\n                if (this.recordingState.enterTarget != null) {\n                  tempTarget = this.recordingState.typeTarget.parentElement\n                  formChk = tempTarget.tagName.toLowerCase()\n                  while (formChk != 'form' && formChk != 'body') {\n                    tempTarget = tempTarget.parentElement\n                    formChk = tempTarget.tagName.toLowerCase()\n                  }\n                  record(\n                    'sendKeys',\n                    locatorBuilders.buildAll(this.recordingState.enterTarget),\n                    '${KEY_ENTER}'\n                  )\n                  this.recordingState.enterTarget = null\n                }\n                // END\n              } else {\n                record(\n                  'type',\n                  locatorBuilders.buildAll(this.recordingState.typeTarget),\n                  this.recordingState.typeTarget.value\n                )\n              }\n            } else if ('textarea' == tagName) {\n              record(\n                'type',\n                locatorBuilders.buildAll(this.recordingState.typeTarget),\n                this.recordingState.typeTarget.value\n              )\n            }\n          }\n          this.recordingState.preventClick = true\n          setTimeout(() => {\n            this.recordingState.preventClick = false\n          }, 500)\n          setTimeout(() => {\n            if (this.recordingState.enterValue != event.target.value)\n              this.recordingState.enterTarget = null\n          }, 50)\n        }\n\n        let tempbool = false\n        if ((key == 38 || key == 40) && event.target.value != '') {\n          if (\n            this.recordingState.focusTarget != null &&\n            this.recordingState.focusTarget.value !=\n              this.recordingState.tempValue\n          ) {\n            tempbool = true\n            this.recordingState.tempValue = this.recordingState.focusTarget.value\n          }\n          if (tempbool) {\n            record(\n              'type',\n              locatorBuilders.buildAll(event.target),\n              this.recordingState.tempValue\n            )\n          }\n\n          setTimeout(() => {\n            this.recordingState.tempValue = this.recordingState.focusTarget.value\n          }, 250)\n\n          if (key == 38)\n            record(\n              'sendKeys',\n              locatorBuilders.buildAll(event.target),\n              '${KEY_UP}'\n            )\n          else\n            record(\n              'sendKeys',\n              locatorBuilders.buildAll(event.target),\n              '${KEY_DOWN}'\n            )\n          this.recordingState.tabCheck = event.target\n        }\n        if (key == 9) {\n          if (this.recordingState.tabCheck == event.target) {\n            record(\n              'sendKeys',\n              locatorBuilders.buildAll(event.target),\n              '${KEY_TAB}'\n            )\n            this.recordingState.preventType = true\n          }\n        }\n      }\n    }\n  },\n  true\n)\n// END\n\nlet mousedown, mouseup, selectMouseup, selectMousedown, mouseoverQ, clickLocator\n// © Shuo-Heng Shih, SideeX Team\nRecorder.addEventHandler(\n  'dragAndDrop',\n  'mousedown',\n  function(event) {\n    if (\n      event.clientX < window.document.documentElement.clientWidth &&\n      event.clientY < window.document.documentElement.clientHeight\n    ) {\n      mousedown = event\n      mouseup = setTimeout(() => {\n        mousedown = undefined\n      }, 200)\n\n      selectMouseup = setTimeout(() => {\n        selectMousedown = event\n      }, 200)\n    }\n    mouseoverQ = []\n\n    if (event.target.nodeName) {\n      let tagName = event.target.nodeName.toLowerCase()\n      if ('option' == tagName) {\n        let parent = event.target.parentNode\n        if (parent.multiple) {\n          let options = parent.options\n          for (let i = 0; i < options.length; i++) {\n            options[i]._wasSelected = options[i].selected\n          }\n        }\n      }\n    }\n  },\n  true\n)\n// END\n\n// © Shuo-Heng Shih, SideeX Team\nRecorder.addEventHandler(\n  'dragAndDrop',\n  'mouseup',\n  function(event) {\n    function getSelectionText() {\n      let text = ''\n      let activeEl = window.document.activeElement\n      let activeElTagName = activeEl ? activeEl.tagName.toLowerCase() : null\n      if (activeElTagName == 'textarea' || activeElTagName == 'input') {\n        text = activeEl.value.slice(\n          activeEl.selectionStart,\n          activeEl.selectionEnd\n        )\n      } else if (window.getSelection) {\n        text = window.getSelection().toString()\n      }\n      return text.trim()\n    }\n    clearTimeout(selectMouseup)\n    if (selectMousedown) {\n      let x = event.clientX - selectMousedown.clientX\n      let y = event.clientY - selectMousedown.clientY\n\n      if (\n        selectMousedown &&\n        event.button === 0 &&\n        x + y &&\n        (event.clientX < window.document.documentElement.clientWidth &&\n          event.clientY < window.document.documentElement.clientHeight) &&\n        getSelectionText() === ''\n      ) {\n        let sourceRelateX =\n          selectMousedown.pageX -\n          selectMousedown.target.getBoundingClientRect().left -\n          window.scrollX\n        let sourceRelateY =\n          selectMousedown.pageY -\n          selectMousedown.target.getBoundingClientRect().top -\n          window.scrollY\n        let targetRelateX, targetRelateY\n        if (\n          !!mouseoverQ.length &&\n          mouseoverQ[1].relatedTarget == mouseoverQ[0].target &&\n          mouseoverQ[0].target == event.target\n        ) {\n          targetRelateX =\n            event.pageX -\n            mouseoverQ[1].target.getBoundingClientRect().left -\n            window.scrollX\n          targetRelateY =\n            event.pageY -\n            mouseoverQ[1].target.getBoundingClientRect().top -\n            window.scrollY\n          record(\n            'mouseDownAt',\n            locatorBuilders.buildAll(selectMousedown.target),\n            sourceRelateX + ',' + sourceRelateY\n          )\n          record(\n            'mouseMoveAt',\n            locatorBuilders.buildAll(mouseoverQ[1].target),\n            targetRelateX + ',' + targetRelateY\n          )\n          record(\n            'mouseUpAt',\n            locatorBuilders.buildAll(mouseoverQ[1].target),\n            targetRelateX + ',' + targetRelateY\n          )\n        } else {\n          targetRelateX =\n            event.pageX -\n            event.target.getBoundingClientRect().left -\n            window.scrollX\n          targetRelateY =\n            event.pageY -\n            event.target.getBoundingClientRect().top -\n            window.scrollY\n          record(\n            'mouseDownAt',\n            locatorBuilders.buildAll(event.target),\n            targetRelateX + ',' + targetRelateY\n          )\n          record(\n            'mouseMoveAt',\n            locatorBuilders.buildAll(event.target),\n            targetRelateX + ',' + targetRelateY\n          )\n          record(\n            'mouseUpAt',\n            locatorBuilders.buildAll(event.target),\n            targetRelateX + ',' + targetRelateY\n          )\n        }\n      }\n    } else {\n      clickLocator = undefined\n      mouseup = undefined\n      let x = event.clientX - mousedown.clientX\n      let y = event.clientY - mousedown.clientY\n\n      if (mousedown && mousedown.target !== event.target && !(x + y)) {\n        record('mouseDown', locatorBuilders.buildAll(mousedown.target), '')\n        record('mouseUp', locatorBuilders.buildAll(event.target), '')\n      } else if (mousedown && mousedown.target === event.target) {\n        let target = locatorBuilders.buildAll(mousedown.target)\n        // setTimeout(function() {\n        //     if (!self.clickLocator)\n        //         record(\"click\", target, '');\n        // }.bind(this), 100);\n      }\n    }\n    mousedown = undefined\n    selectMousedown = undefined\n    mouseoverQ = undefined\n  },\n  true\n)\n// END\n\nlet dropLocator, dragstartLocator\n// © Shuo-Heng Shih, SideeX Team\nRecorder.addEventHandler(\n  'dragAndDropToObject',\n  'dragstart',\n  function(event) {\n    dropLocator = setTimeout(() => {\n      dragstartLocator = event\n    }, 200)\n  },\n  true\n)\n// END\n\n// © Shuo-Heng Shih, SideeX Team\nRecorder.addEventHandler(\n  'dragAndDropToObject',\n  'drop',\n  function(event) {\n    clearTimeout(dropLocator)\n    if (\n      dragstartLocator &&\n      event.button == 0 &&\n      dragstartLocator.target !== event.target\n    ) {\n      //value no option\n      record(\n        'dragAndDropToObject',\n        locatorBuilders.buildAll(dragstartLocator.target),\n        locatorBuilders.build(event.target)\n      )\n    }\n    dragstartLocator = undefined\n    selectMousedown = undefined\n  },\n  true\n)\n// END\n\n// © Shuo-Heng Shih, SideeX Team\nlet prevTimeOut = null,\n  scrollDetector\nRecorder.addEventHandler(\n  'runScript',\n  'scroll',\n  function(event) {\n    if (pageLoaded === true) {\n      scrollDetector = event.target\n      clearTimeout(prevTimeOut)\n      prevTimeOut = setTimeout(() => {\n        scrollDetector = undefined\n      }, 500)\n    }\n  },\n  true\n)\n// END\n\n// © Shuo-Heng Shih, SideeX Team\nlet nowNode = 0,\n  mouseoverLocator,\n  nodeInsertedLocator,\n  nodeInsertedAttrChange\nRecorder.addEventHandler(\n  'mouseOver',\n  'mouseover',\n  function(event) {\n    if (window.document.documentElement)\n      nowNode = window.document.documentElement.getElementsByTagName('*').length\n    if (pageLoaded === true) {\n      let clickable = findClickableElement(event.target)\n      if (clickable) {\n        nodeInsertedLocator = event.target\n        nodeInsertedAttrChange = locatorBuilders.buildAll(event.target)\n        setTimeout(() => {\n          nodeInsertedLocator = undefined\n          nodeInsertedAttrChange = undefined\n        }, 500)\n      }\n      //drop target overlapping\n      if (mouseoverQ) {\n        //mouse keep down\n        if (mouseoverQ.length >= 3) mouseoverQ.shift()\n        mouseoverQ.push(event)\n      }\n    }\n  },\n  true\n)\n// END\n\nlet mouseoutLocator = undefined\n// © Shuo-Heng Shih, SideeX Team\nRecorder.addEventHandler(\n  'mouseOut',\n  'mouseout',\n  function(event) {\n    if (mouseoutLocator !== null && event.target === mouseoutLocator) {\n      record('mouseOut', locatorBuilders.buildAll(event.target), '')\n    }\n    mouseoutLocator = undefined\n  },\n  true\n)\n// END\n\nRecorder.addMutationObserver(\n  'FrameDeleted',\n  function(mutations) {\n    mutations.forEach(async mutation => {\n      const removedNodes = await mutation.removedNodes\n      if (\n        removedNodes.length &&\n        removedNodes[0].nodeName === 'IFRAME' &&\n        removedNodes[0].id !== 'selenium-ide-indicator'\n      ) {\n        browser.runtime.sendMessage({ frameRemoved: true }).catch(() => {})\n      }\n    })\n  },\n  { childList: true }\n)\n\nRecorder.addMutationObserver(\n  'DOMNodeInserted',\n  function(mutations) {\n    if (\n      pageLoaded === true &&\n      window.document.documentElement.getElementsByTagName('*').length > nowNode\n    ) {\n      // Get list of inserted nodes from the mutations list to simulate 'DOMNodeInserted'.\n      const insertedNodes = mutations.reduce((nodes, mutation) => {\n        if (mutation.type === 'childList') {\n          nodes.push.apply(nodes, mutation.addedNodes)\n        }\n        return nodes\n      }, [])\n      // If no nodes inserted, just bail.\n      if (!insertedNodes.length) {\n        return\n      }\n\n      if (scrollDetector) {\n        //TODO: fix target\n        record('runScript', [['window.scrollTo(0,' + window.scrollY + ')']], '')\n        pageLoaded = false\n        setTimeout(() => {\n          pageLoaded = true\n        }, 550)\n        scrollDetector = undefined\n        nodeInsertedLocator = undefined\n      }\n      if (nodeInsertedLocator) {\n        record('mouseOver', nodeInsertedAttrChange, '')\n        mouseoutLocator = nodeInsertedLocator\n        nodeInsertedLocator = undefined\n        nodeInsertedAttrChange = undefined\n        mouseoverLocator = undefined\n      }\n    }\n  },\n  { childList: true, subtree: true }\n)\n\n// © Shuo-Heng Shih, SideeX Team\nlet readyTimeOut = null\nlet pageLoaded = true\nRecorder.addEventHandler(\n  'checkPageLoaded',\n  'readystatechange',\n  function(event) {\n    if (window.document.readyState === 'loading') {\n      pageLoaded = false\n    } else {\n      pageLoaded = false\n      clearTimeout(readyTimeOut)\n      readyTimeOut = setTimeout(() => {\n        pageLoaded = true\n      }, 1500) //setReady after complete 1.5s\n    }\n  },\n  true\n)\n// END\n\n// © Ming-Hung Hsu, SideeX Team\nRecorder.addEventHandler(\n  'contextMenu',\n  'contextmenu',\n  function(event) {\n    let myPort = browser.runtime.connect()\n    let tmpText = locatorBuilders.buildAll(event.target)\n    let tmpVal = bot.dom.getVisibleText(event.target)\n    let tmpTitle = goog.string.normalizeSpaces(event.target.ownerDocument.title)\n    myPort.onMessage.addListener(function(m) {\n      if (m.cmd.includes('Text')) {\n        record(m.cmd, tmpText, tmpVal)\n      } else if (m.cmd.includes('Title')) {\n        record(m.cmd, [[tmpTitle]], '')\n      } else if (m.cmd.includes('Value')) {\n        record(m.cmd, tmpText, event.target.value)\n      } else if (m.cmd === 'mouseOver') {\n        record('mouseOver', locatorBuilders.buildAll(event.target), '')\n      }\n      myPort.onMessage.removeListener(this)\n    })\n  },\n  true\n)\n// END\n\n// © Yun-Wen Lin, SideeX Team\nlet getEle\nlet checkFocus = 0\nlet contentTest\nRecorder.addEventHandler(\n  'editContent',\n  'focus',\n  function(event) {\n    let editable = event.target.contentEditable\n    if (editable == 'true') {\n      getEle = event.target\n      contentTest = getEle.innerHTML\n      checkFocus = 1\n    }\n  },\n  true\n)\n// END\n\n// © Yun-Wen Lin, SideeX Team\nRecorder.addEventHandler(\n  'editContent',\n  'blur',\n  function(event) {\n    if (checkFocus == 1) {\n      if (event.target == getEle) {\n        if (getEle.innerHTML != contentTest) {\n          record(\n            'editContent',\n            locatorBuilders.buildAll(event.target),\n            getEle.innerHTML\n          )\n        }\n        checkFocus = 0\n      }\n    }\n  },\n  true\n)\n// END\n\nbrowser.runtime\n  .sendMessage({\n    attachRecorderRequest: true,\n  })\n  .catch(function(reason) {\n    // Failed silently if receiveing end does not exist\n  })\n\n// Copyright 2005 Shinya Kasatani\nRecorder.prototype.getOptionLocator = function(option) {\n  let label = option.text.replace(/^ *(.*?) *$/, '$1')\n  if (label.match(/\\xA0/)) {\n    // if the text contains &nbsp;\n    return (\n      'label=regexp:' +\n      label\n        .replace(/[\\(\\)\\[\\]\\\\\\^\\$\\*\\+\\?\\.\\|\\{\\}]/g, function(str) {\n          // eslint-disable-line no-useless-escape\n          return '\\\\' + str\n        })\n        .replace(/\\s+/g, function(str) {\n          if (str.match(/\\xA0/)) {\n            if (str.length > 1) {\n              return '\\\\s+'\n            } else {\n              return '\\\\s'\n            }\n          } else {\n            return str\n          }\n        })\n    )\n  } else {\n    return 'label=' + label\n  }\n}\n\nfunction findClickableElement(e) {\n  if (!e.tagName) return null\n  let tagName = e.tagName.toLowerCase()\n  let type = e.type\n  if (\n    e.hasAttribute('onclick') ||\n    e.hasAttribute('href') ||\n    tagName == 'button' ||\n    (tagName == 'input' &&\n      (type == 'submit' ||\n        type == 'button' ||\n        type == 'image' ||\n        type == 'radio' ||\n        type == 'checkbox' ||\n        type == 'reset'))\n  ) {\n    return e\n  } else {\n    if (e.parentNode != null) {\n      return findClickableElement(e.parentNode)\n    } else {\n      return null\n    }\n  }\n}\n\n//select / addSelect / removeSelect\nRecorder.addEventHandler(\n  'select',\n  'focus',\n  function(event) {\n    if (event.target.nodeName) {\n      let tagName = event.target.nodeName.toLowerCase()\n      if ('select' == tagName && event.target.multiple) {\n        let options = event.target.options\n        for (let i = 0; i < options.length; i++) {\n          if (options[i]._wasSelected == null) {\n            // is the focus was gained by mousedown event, _wasSelected would be already set\n            options[i]._wasSelected = options[i].selected\n          }\n        }\n      }\n    }\n  },\n  true\n)\n\nRecorder.addEventHandler('select', 'change', function(event) {\n  if (event.target.tagName) {\n    let tagName = event.target.tagName.toLowerCase()\n    if ('select' == tagName) {\n      if (!event.target.multiple) {\n        let option = event.target.options[event.target.selectedIndex]\n        record(\n          'select',\n          locatorBuilders.buildAll(event.target),\n          getOptionLocator(option)\n        )\n      } else {\n        let options = event.target.options\n        for (let i = 0; i < options.length; i++) {\n          if (options[i]._wasSelected != options[i].selected) {\n            let value = getOptionLocator(options[i])\n            if (options[i].selected) {\n              record(\n                'addSelection',\n                locatorBuilders.buildAll(event.target),\n                value\n              )\n            } else {\n              record(\n                'removeSelection',\n                locatorBuilders.buildAll(event.target),\n                value\n              )\n            }\n            this.recordingState.preventClickTwice = true\n            options[i]._wasSelected = options[i].selected\n          }\n        }\n      }\n    }\n  }\n})\n\nfunction getOptionLocator(option) {\n  let label = option.text.replace(/^ *(.*?) *$/, '$1')\n  if (label.match(/\\xA0/)) {\n    // if the text contains &nbsp;\n    return (\n      'label=regexp:' +\n      label\n        .replace(/[(\\)\\[\\]\\\\\\^\\$\\*\\+\\?\\.\\|\\{\\}]/g, function(str) {\n          // eslint-disable-line no-useless-escape\n          return '\\\\' + str\n        })\n        .replace(/\\s+/g, function(str) {\n          if (str.match(/\\xA0/)) {\n            if (str.length > 1) {\n              return '\\\\s+'\n            } else {\n              return '\\\\s'\n            }\n          } else {\n            return str\n          }\n        })\n    )\n  } else {\n    return 'label=' + label\n  }\n}\n\nbrowser.runtime\n  .sendMessage({\n    attachRecorderRequest: true,\n  })\n  .then(shouldAttach => {\n    if (shouldAttach) {\n      recorder.attach()\n    }\n  })\n  .catch(() => {})\n\n\n\n// WEBPACK FOOTER //\n// ./content/record.js","/*\n * Copyright 2017 SideeX committers\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n */\n\nimport browser from 'webextension-polyfill'\nimport { calculateFrameIndex } from './utils'\n\nlet contentSideexTabId = -1\nlet frameLocation = ''\nlet recordingIndicator\n\nfunction Recorder(window) {\n  this.window = window\n  this.eventListeners = {}\n  this.attached = false\n  this.recordingState = {}\n}\n\nRecorder.eventHandlers = {}\nRecorder.mutationObservers = {}\nRecorder.addEventHandler = function(handlerName, eventName, handler, options) {\n  handler.handlerName = handlerName\n  if (!options) options = false\n  let key = options ? 'C_' + eventName : eventName\n  if (!this.eventHandlers[key]) {\n    this.eventHandlers[key] = []\n  }\n  this.eventHandlers[key].push(handler)\n}\n\nRecorder.addMutationObserver = function(observerName, callback, config) {\n  const observer = new MutationObserver(callback)\n  observer.observerName = observerName\n  observer.config = config\n  this.mutationObservers[observerName] = observer\n}\n\nRecorder.prototype.parseEventKey = function(eventKey) {\n  if (eventKey.match(/^C_/)) {\n    return { eventName: eventKey.substring(2), capture: true }\n  } else {\n    return { eventName: eventKey, capture: false }\n  }\n}\n\nfunction updateInputElementsOfRelevantType(action) {\n  let inp = window.document.getElementsByTagName('input')\n  for (let i = 0; i < inp.length; i++) {\n    if (Recorder.inputTypes.indexOf(inp[i].type) >= 0) {\n      action(inp[i])\n    }\n  }\n}\n\nfunction focusEvent(recordingState, event) {\n  recordingState.focusTarget = event.target\n  recordingState.focusValue = recordingState.focusTarget.value\n  recordingState.tempValue = recordingState.focusValue\n  recordingState.preventType = false\n}\n\nfunction blurEvent(recordingState) {\n  recordingState.focusTarget = null\n  recordingState.focusValue = null\n  recordingState.tempValue = null\n}\n\nfunction attachInputListeners(recordingState) {\n  updateInputElementsOfRelevantType(input => {\n    input.addEventListener('focus', focusEvent.bind(null, recordingState))\n    input.addEventListener('blur', blurEvent.bind(null, recordingState))\n  })\n}\n\nfunction detachInputListeners(recordingState) {\n  updateInputElementsOfRelevantType(input => {\n    input.removeEventListener('focus', focusEvent.bind(null, recordingState))\n    input.removeEventListener('blur', blurEvent.bind(null, recordingState))\n  })\n}\n\nRecorder.prototype.attach = function() {\n  if (!this.attached) {\n    for (let eventKey in Recorder.eventHandlers) {\n      const eventInfo = this.parseEventKey(eventKey)\n      const eventName = eventInfo.eventName\n      const capture = eventInfo.capture\n\n      const handlers = Recorder.eventHandlers[eventKey]\n      this.eventListeners[eventKey] = []\n      for (let i = 0; i < handlers.length; i++) {\n        this.window.document.addEventListener(\n          eventName,\n          handlers[i].bind(this),\n          capture\n        )\n        this.eventListeners[eventKey].push(handlers[i])\n      }\n    }\n    for (let observerName in Recorder.mutationObservers) {\n      const observer = Recorder.mutationObservers[observerName]\n      observer.observe(this.window.document.body, observer.config)\n    }\n    this.attached = true\n    this.recordingState = {\n      typeTarget: undefined,\n      typeLock: 0,\n      focusTarget: null,\n      focusValue: null,\n      tempValue: null,\n      preventType: false,\n      preventClickTwice: false,\n      preventClick: false,\n      enterTarget: null,\n      enterValue: null,\n      tabCheck: null,\n    }\n    attachInputListeners(this.recordingState)\n    addRecordingIndicator()\n  }\n}\n\nRecorder.prototype.detach = function() {\n  for (let eventKey in this.eventListeners) {\n    const eventInfo = this.parseEventKey(eventKey)\n    const eventName = eventInfo.eventName\n    const capture = eventInfo.capture\n    for (let i = 0; i < this.eventListeners[eventKey].length; i++) {\n      this.window.document.removeEventListener(\n        eventName,\n        this.eventListeners[eventKey][i],\n        capture\n      )\n    }\n  }\n  for (let observerName in Recorder.mutationObservers) {\n    const observer = Recorder.mutationObservers[observerName]\n    observer.disconnect()\n  }\n  this.eventListeners = {}\n  this.attached = false\n  removeRecordingIndicator()\n  detachInputListeners(this.recordingState)\n}\n\nfunction attachRecorderHandler(message, _sender, sendResponse) {\n  if (message.attachRecorder) {\n    recorder.attach()\n    sendResponse(true)\n  }\n}\n\nfunction detachRecorderHandler(message, _sender, sendResponse) {\n  if (message.detachRecorder) {\n    recorder.detach()\n    sendResponse(true)\n  }\n}\n\nconst recorder = new Recorder(window)\n\n// recorder event handlers\nbrowser.runtime.onMessage.addListener(attachRecorderHandler)\nbrowser.runtime.onMessage.addListener(detachRecorderHandler)\n\nfunction addRecordingIndicator() {\n  if (frameLocation === 'root' && !recordingIndicator) {\n    const indicatorIndex = window.parent.frames.length\n    recordingIndicator = window.document.createElement('iframe')\n    recordingIndicator.src = browser.runtime.getURL('/indicator.html')\n    recordingIndicator.id = 'selenium-ide-indicator'\n    recordingIndicator.style.border = '1px solid #d30100'\n    recordingIndicator.style.borderRadius = '50px'\n    recordingIndicator.style.position = 'fixed'\n    recordingIndicator.style.bottom = '36px'\n    recordingIndicator.style.right = '36px'\n    recordingIndicator.style.width = '400px'\n    recordingIndicator.style.height = '50px'\n    recordingIndicator.style['background-color'] = '#f7f7f7'\n    recordingIndicator.style['box-shadow'] = '0 7px 10px 0 rgba(0,0,0,0.1)'\n    recordingIndicator.style.transition = 'bottom 100ms linear'\n    recordingIndicator.style['z-index'] = 1000000000000000\n    recordingIndicator.addEventListener(\n      'mouseenter',\n      function(event) {\n        event.target.style.visibility = 'hidden'\n        setTimeout(function() {\n          event.target.style.visibility = 'visible'\n        }, 1000)\n      },\n      false\n    )\n    window.document.body.appendChild(recordingIndicator)\n    browser.runtime.onMessage.addListener(function(\n      message,\n      sender, // eslint-disable-line\n      sendResponse\n    ) {\n      if (message.recordNotification) {\n        recordingIndicator.contentWindow.postMessage(\n          {\n            direction: 'from-recording-module',\n            command: message.command,\n            target: message.target,\n            value: message.value,\n          },\n          '*'\n        )\n        recordingIndicator.style.borderColor = 'black'\n        setTimeout(() => {\n          recordingIndicator.style.borderColor = '#d30100'\n        }, 1000)\n        sendResponse(true)\n      }\n    })\n    return browser.runtime\n      .sendMessage({\n        setFrameNumberForTab: true,\n        indicatorIndex: indicatorIndex,\n      })\n      .catch(() => {})\n  }\n}\n\nfunction getFrameCount() {\n  return browser.runtime.sendMessage({\n    requestFrameCount: true,\n  })\n}\n\nfunction removeRecordingIndicator() {\n  if (frameLocation === 'root' && recordingIndicator) {\n    recordingIndicator.parentElement.removeChild(recordingIndicator)\n    recordingIndicator = undefined\n  }\n}\n\n// set frame id\nasync function getFrameLocation() {\n  let currentWindow = window\n  let currentParentWindow\n  let recordingIndicatorIndex\n  let frameCount\n\n  while (currentWindow !== window.top) {\n    currentParentWindow = currentWindow.parent\n    if (!currentParentWindow.frames.length) {\n      break\n    }\n\n    if (currentParentWindow === window.top) {\n      frameCount = await getFrameCount().catch(() => {})\n      if (frameCount) recordingIndicatorIndex = frameCount.indicatorIndex\n    }\n\n    for (let idx = 0; idx < currentParentWindow.frames.length; idx++) {\n      const frame = currentParentWindow.frames[idx]\n\n      if (frame === currentWindow) {\n        frameLocation =\n          ':' +\n          calculateFrameIndex({\n            indicatorIndex: recordingIndicatorIndex,\n            targetFrameIndex: idx,\n          }) +\n          frameLocation\n        currentWindow = currentParentWindow\n        break\n      }\n    }\n  }\n  frameLocation = 'root' + frameLocation\n  await browser.runtime\n    .sendMessage({ frameLocation: frameLocation })\n    .catch(() => {})\n}\n\nfunction recalculateFrameLocation(message, _sender, sendResponse) {\n  if (message.recalculateFrameLocation) {\n    ;(async () => {\n      removeRecordingIndicator()\n      setTimeout(async () => {\n        await addRecordingIndicator()\n      }, 100)\n      frameLocation = ''\n      await getFrameLocation()\n      sendResponse(true)\n    })()\n    return true\n  }\n}\n\nbrowser.runtime.onMessage.addListener(recalculateFrameLocation)\n\n// runs in the content script of each frame\n// e.g., once on load\n;(async () => {\n  await getFrameLocation()\n})()\n\nwindow.recorder = recorder\nwindow.contentSideexTabId = contentSideexTabId\nwindow.Recorder = Recorder\n\n/* record */\nexport function record(\n  command,\n  target,\n  value,\n  insertBeforeLastCommand,\n  actualFrameLocation\n) {\n  browser.runtime\n    .sendMessage({\n      command: command,\n      target: target,\n      value: value,\n      insertBeforeLastCommand: insertBeforeLastCommand,\n      frameLocation:\n        actualFrameLocation != undefined ? actualFrameLocation : frameLocation,\n      commandSideexTabId: contentSideexTabId,\n    })\n    .catch(() => {\n      recorder.detach()\n    })\n}\n\nwindow.record = record\n\nexport { Recorder, recorder }\n\n\n\n// WEBPACK FOOTER //\n// ./content/record-api.js","// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\nexport function attach(record) {\n  if (window === window.top) {\n    window.addEventListener('message', function(event) {\n      if (\n        event.source.top == window &&\n        event.data &&\n        event.data.direction == 'from-page-script'\n      ) {\n        if (event.data.recordedType) {\n          switch (event.data.recordedType) {\n            case 'prompt':\n              if (event.data.recordedResult != null) {\n                record(\n                  'answerOnNextPrompt',\n                  [[event.data.recordedResult]],\n                  '',\n                  true,\n                  event.data.frameLocation\n                )\n              } else {\n                record(\n                  'chooseCancelOnNextPrompt',\n                  [['']],\n                  '',\n                  true,\n                  event.data.frameLocation\n                )\n              }\n              record(\n                'assertPrompt',\n                [[event.data.recordedMessage]],\n                '',\n                false,\n                event.data.frameLocation\n              )\n              if (event.data.recordedResult != null) {\n                record(\n                  'webdriverAnswerOnVisiblePrompt',\n                  [[event.data.recordedResult]],\n                  '',\n                  false,\n                  event.data.frameLocation\n                )\n              } else {\n                record(\n                  'webdriverChooseCancelOnVisiblePrompt',\n                  [['']],\n                  '',\n                  false,\n                  event.data.frameLocation\n                )\n              }\n              break\n            case 'confirm':\n              if (event.data.recordedResult == true) {\n                record(\n                  'chooseOkOnNextConfirmation',\n                  [['']],\n                  '',\n                  true,\n                  event.data.frameLocation\n                )\n              } else {\n                record(\n                  'chooseCancelOnNextConfirmation',\n                  [['']],\n                  '',\n                  true,\n                  event.data.frameLocation\n                )\n              }\n              record(\n                'assertConfirmation',\n                [[event.data.recordedMessage]],\n                '',\n                false,\n                event.data.frameLocation\n              )\n              if (event.data.recordedResult == true) {\n                record(\n                  'webdriverChooseOkOnVisibleConfirmation',\n                  [['']],\n                  '',\n                  false,\n                  event.data.frameLocation\n                )\n              } else {\n                record(\n                  'webdriverChooseCancelOnVisibleConfirmation',\n                  [['']],\n                  '',\n                  false,\n                  event.data.frameLocation\n                )\n              }\n              break\n            case 'alert':\n              //record(\"answerOnNextAlert\",[[event.data.recordedResult]],\"\",true);\n              record(\n                'assertAlert',\n                [[event.data.recordedMessage]],\n                '',\n                false,\n                event.data.frameLocation\n              )\n              break\n          }\n        }\n      }\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./content/prompt-recorder.js","import parser from 'ua-parser-js'\n\nexport const isProduction = process.env.NODE_ENV === 'production'\n\nexport const isStaging = process.env.NODE_ENV === 'staging'\n\nexport const isTest = process.env.NODE_ENV === 'test'\n\nexport const userAgent = parser(window.navigator.userAgent)\n\nexport function isChrome() {\n  userAgent.browser.name === 'Chrome'\n}\n\nexport function isFirefox() {\n  userAgent.browser.name === 'Firefox'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./common/utils.js","/*!\n * UAParser.js v0.7.18\n * Lightweight JavaScript-based User-Agent string parser\n * https://github.com/faisalman/ua-parser-js\n *\n * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>\n * Dual licensed under GPLv2 or MIT\n */\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '0.7.18',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major', // deprecated\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded';\n\n\n    ///////////\n    // Helper\n    //////////\n\n\n    var util = {\n        extend : function (regexes, extensions) {\n            var margedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    margedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    margedRegexes[i] = regexes[i];\n                }\n            }\n            return margedRegexes;\n        },\n        has : function (str1, str2) {\n          if (typeof str1 === \"string\") {\n            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n          } else {\n            return false;\n          }\n        },\n        lowerize : function (str) {\n            return str.toLowerCase();\n        },\n        major : function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g,'').split(\".\")[0] : undefined;\n        },\n        trim : function (str) {\n          return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n        }\n    };\n\n\n    ///////////////\n    // Map helper\n    //////////////\n\n\n    var mapper = {\n\n        rgx : function (ua, arrays) {\n\n            //var result = {},\n            var i = 0, j, k, p, q, matches, match;//, args = arguments;\n\n            /*// construct object barebones\n            for (p = 0; p < args[1].length; p++) {\n                q = args[1][p];\n                result[typeof q === OBJ_TYPE ? q[0] : q] = undefined;\n            }*/\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length == 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length == 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length == 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n            // console.log(this);\n            //return this;\n        },\n\n        str : function (str, map) {\n\n            for (var i in map) {\n                // check if array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (util.has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (util.has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n        }\n    };\n\n\n    ///////////////\n    // String map\n    //////////////\n\n\n    var maps = {\n\n        browser : {\n            oldsafari : {\n                version : {\n                    '1.0'   : '/8',\n                    '1.2'   : '/1',\n                    '1.3'   : '/3',\n                    '2.0'   : '/412',\n                    '2.0.2' : '/416',\n                    '2.0.3' : '/417',\n                    '2.0.4' : '/419',\n                    '?'     : '/'\n                }\n            }\n        },\n\n        device : {\n            amazon : {\n                model : {\n                    'Fire Phone' : ['SD', 'KF']\n                }\n            },\n            sprint : {\n                model : {\n                    'Evo Shift 4G' : '7373KT'\n                },\n                vendor : {\n                    'HTC'       : 'APA',\n                    'Sprint'    : 'Sprint'\n                }\n            }\n        },\n\n        os : {\n            windows : {\n                version : {\n                    'ME'        : '4.90',\n                    'NT 3.11'   : 'NT3.51',\n                    'NT 4.0'    : 'NT4.0',\n                    '2000'      : 'NT 5.0',\n                    'XP'        : ['NT 5.1', 'NT 5.2'],\n                    'Vista'     : 'NT 6.0',\n                    '7'         : 'NT 6.1',\n                    '8'         : 'NT 6.2',\n                    '8.1'       : 'NT 6.3',\n                    '10'        : ['NT 6.4', 'NT 10.0'],\n                    'RT'        : 'ARM'\n                }\n            }\n        }\n    };\n\n\n    //////////////\n    // Regex map\n    /////////////\n\n\n    var regexes = {\n\n        browser : [[\n\n            // Presto based\n            /(opera\\smini)\\/([\\w\\.-]+)/i,                                       // Opera Mini\n            /(opera\\s[mobiletab]+).+version\\/([\\w\\.-]+)/i,                      // Opera Mobi/Tablet\n            /(opera).+version\\/([\\w\\.]+)/i,                                     // Opera > 9.80\n            /(opera)[\\/\\s]+([\\w\\.]+)/i                                          // Opera < 9.80\n            ], [NAME, VERSION], [\n\n            /(opios)[\\/\\s]+([\\w\\.]+)/i                                          // Opera mini on iphone >= 8.0\n            ], [[NAME, 'Opera Mini'], VERSION], [\n\n            /\\s(opr)\\/([\\w\\.]+)/i                                               // Opera Webkit\n            ], [[NAME, 'Opera'], VERSION], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n\n            // Trident based\n            /(avant\\s|iemobile|slim|baidu)(?:browser)?[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Avant/IEMobile/SlimBrowser/Baidu\n            /(?:ms|\\()(ie)\\s([\\w\\.]+)/i,                                        // Internet Explorer\n\n            // Webkit/KHTML based\n            /(rekonq)\\/([\\w\\.]*)/i,                                             // Rekonq\n            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\\/([\\w\\.-]+)/i\n                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser\n            ], [NAME, VERSION], [\n\n            /(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko/i                         // IE11\n            ], [[NAME, 'IE'], VERSION], [\n\n            /(edge|edgios|edgea)\\/((\\d+)?[\\w\\.]+)/i                             // Microsoft Edge\n            ], [[NAME, 'Edge'], VERSION], [\n\n            /(yabrowser)\\/([\\w\\.]+)/i                                           // Yandex\n            ], [[NAME, 'Yandex'], VERSION], [\n\n            /(puffin)\\/([\\w\\.]+)/i                                              // Puffin\n            ], [[NAME, 'Puffin'], VERSION], [\n\n            /((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i\n                                                                                // UCBrowser\n            ], [[NAME, 'UCBrowser'], VERSION], [\n\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n\n            /(micromessenger)\\/([\\w\\.]+)/i                                      // WeChat\n            ], [[NAME, 'WeChat'], VERSION], [\n\n            /(qqbrowserlite)\\/([\\w\\.]+)/i                                       // QQBrowserLite\n            ], [NAME, VERSION], [\n\n            /(QQ)\\/([\\d\\.]+)/i                                                  // QQ, aka ShouQ\n            ], [NAME, VERSION], [\n\n            /m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i                                    // QQBrowser\n            ], [NAME, VERSION], [\n\n            /(BIDUBrowser)[\\/\\s]?([\\w\\.]+)/i                                    // Baidu Browser\n            ], [NAME, VERSION], [\n\n            /(2345Explorer)[\\/\\s]?([\\w\\.]+)/i                                   // 2345 Browser\n            ], [NAME, VERSION], [\n\n            /(MetaSr)[\\/\\s]?([\\w\\.]+)/i                                         // SouGouBrowser\n            ], [NAME], [\n\n            /(LBBROWSER)/i                                      // LieBao Browser\n            ], [NAME], [\n\n            /xiaomi\\/miuibrowser\\/([\\w\\.]+)/i                                   // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI Browser']], [\n\n            /;fbav\\/([\\w\\.]+);/i                                                // Facebook App for iOS & Android\n            ], [VERSION, [NAME, 'Facebook']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)|\\s)/i                                 // Chrome Headless\n            ], [VERSION, [NAME, 'Chrome Headless']], [\n\n            /\\swv\\).+(chrome)\\/([\\w\\.]+)/i                                      // Chrome WebView\n            ], [[NAME, /(.+)/, '$1 WebView'], VERSION], [\n\n            /((?:oculus|samsung)browser)\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+(?:g|us))(.+)/, '$1 $2'], VERSION], [                // Oculus / Samsung Browser\n\n            /android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i        // Android Browser\n            ], [VERSION, [NAME, 'Android Browser']], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i\n                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /(dolfin)\\/([\\w\\.]+)/i                                              // Dolphin\n            ], [[NAME, 'Dolphin'], VERSION], [\n\n            /((?:android.+)crmo|crios)\\/([\\w\\.]+)/i                             // Chrome for Android/iOS\n            ], [[NAME, 'Chrome'], VERSION], [\n\n            /(coast)\\/([\\w\\.]+)/i                                               // Opera Coast\n            ], [[NAME, 'Opera Coast'], VERSION], [\n\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, 'Firefox']], [\n\n            /version\\/([\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i                       // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n\n            /version\\/([\\w\\.]+).+?(mobile\\s?safari|safari)/i                    // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n\n            /webkit.+?(gsa)\\/([\\w\\.]+).+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i  // Google Search Appliance on iOS\n            ], [[NAME, 'GSA'], VERSION], [\n\n            /webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i                     // Safari < 3.0\n            ], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [\n\n            /(konqueror)\\/([\\w\\.]+)/i,                                          // Konqueror\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape)\\/([\\w\\.-]+)/i                                 // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([\\w\\.-]+)$/i,\n\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(mozilla)\\/([\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,                          // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir\n            /(links)\\s\\(([\\w\\.]+)/i,                                            // Links\n            /(gobrowser)\\/?([\\w\\.]*)/i,                                         // GoBrowser\n            /(ice\\s?browser)\\/v?([\\w\\._]+)/i,                                   // ICE Browser\n            /(mosaic)[\\/\\s]([\\w\\.]+)/i                                          // Mosaic\n            ], [NAME, VERSION]\n\n            /* /////////////////////\n            // Media players BEGIN\n            ////////////////////////\n\n            , [\n\n            /(apple(?:coremedia|))\\/((\\d+)[\\w\\._]+)/i,                          // Generic Apple CoreMedia\n            /(coremedia) v((\\d+)[\\w\\._]+)/i\n            ], [NAME, VERSION], [\n\n            /(aqualung|lyssna|bsplayer)\\/((\\d+)?[\\w\\.-]+)/i                     // Aqualung/Lyssna/BSPlayer\n            ], [NAME, VERSION], [\n\n            /(ares|ossproxy)\\s((\\d+)[\\w\\.-]+)/i                                 // Ares/OSSProxy\n            ], [NAME, VERSION], [\n\n            /(audacious|audimusicstream|amarok|bass|core|dalvik|gnomemplayer|music on console|nsplayer|psp-internetradioplayer|videos)\\/((\\d+)[\\w\\.-]+)/i,\n                                                                                // Audacious/AudiMusicStream/Amarok/BASS/OpenCORE/Dalvik/GnomeMplayer/MoC\n                                                                                // NSPlayer/PSP-InternetRadioPlayer/Videos\n            /(clementine|music player daemon)\\s((\\d+)[\\w\\.-]+)/i,               // Clementine/MPD\n            /(lg player|nexplayer)\\s((\\d+)[\\d\\.]+)/i,\n            /player\\/(nexplayer|lg player)\\s((\\d+)[\\w\\.-]+)/i                   // NexPlayer/LG Player\n            ], [NAME, VERSION], [\n            /(nexplayer)\\s((\\d+)[\\w\\.-]+)/i                                     // Nexplayer\n            ], [NAME, VERSION], [\n\n            /(flrp)\\/((\\d+)[\\w\\.-]+)/i                                          // Flip Player\n            ], [[NAME, 'Flip Player'], VERSION], [\n\n            /(fstream|nativehost|queryseekspider|ia-archiver|facebookexternalhit)/i\n                                                                                // FStream/NativeHost/QuerySeekSpider/IA Archiver/facebookexternalhit\n            ], [NAME], [\n\n            /(gstreamer) souphttpsrc (?:\\([^\\)]+\\)){0,1} libsoup\\/((\\d+)[\\w\\.-]+)/i\n                                                                                // Gstreamer\n            ], [NAME, VERSION], [\n\n            /(htc streaming player)\\s[\\w_]+\\s\\/\\s((\\d+)[\\d\\.]+)/i,              // HTC Streaming Player\n            /(java|python-urllib|python-requests|wget|libcurl)\\/((\\d+)[\\w\\.-_]+)/i,\n                                                                                // Java/urllib/requests/wget/cURL\n            /(lavf)((\\d+)[\\d\\.]+)/i                                             // Lavf (FFMPEG)\n            ], [NAME, VERSION], [\n\n            /(htc_one_s)\\/((\\d+)[\\d\\.]+)/i                                      // HTC One S\n            ], [[NAME, /_/g, ' '], VERSION], [\n\n            /(mplayer)(?:\\s|\\/)(?:(?:sherpya-){0,1}svn)(?:-|\\s)(r\\d+(?:-\\d+[\\w\\.-]+){0,1})/i\n                                                                                // MPlayer SVN\n            ], [NAME, VERSION], [\n\n            /(mplayer)(?:\\s|\\/|[unkow-]+)((\\d+)[\\w\\.-]+)/i                      // MPlayer\n            ], [NAME, VERSION], [\n\n            /(mplayer)/i,                                                       // MPlayer (no other info)\n            /(yourmuze)/i,                                                      // YourMuze\n            /(media player classic|nero showtime)/i                             // Media Player Classic/Nero ShowTime\n            ], [NAME], [\n\n            /(nero (?:home|scout))\\/((\\d+)[\\w\\.-]+)/i                           // Nero Home/Nero Scout\n            ], [NAME, VERSION], [\n\n            /(nokia\\d+)\\/((\\d+)[\\w\\.-]+)/i                                      // Nokia\n            ], [NAME, VERSION], [\n\n            /\\s(songbird)\\/((\\d+)[\\w\\.-]+)/i                                    // Songbird/Philips-Songbird\n            ], [NAME, VERSION], [\n\n            /(winamp)3 version ((\\d+)[\\w\\.-]+)/i,                               // Winamp\n            /(winamp)\\s((\\d+)[\\w\\.-]+)/i,\n            /(winamp)mpeg\\/((\\d+)[\\w\\.-]+)/i\n            ], [NAME, VERSION], [\n\n            /(ocms-bot|tapinradio|tunein radio|unknown|winamp|inlight radio)/i  // OCMS-bot/tap in radio/tunein/unknown/winamp (no other info)\n                                                                                // inlight radio\n            ], [NAME], [\n\n            /(quicktime|rma|radioapp|radioclientapplication|soundtap|totem|stagefright|streamium)\\/((\\d+)[\\w\\.-]+)/i\n                                                                                // QuickTime/RealMedia/RadioApp/RadioClientApplication/\n                                                                                // SoundTap/Totem/Stagefright/Streamium\n            ], [NAME, VERSION], [\n\n            /(smp)((\\d+)[\\d\\.]+)/i                                              // SMP\n            ], [NAME, VERSION], [\n\n            /(vlc) media player - version ((\\d+)[\\w\\.]+)/i,                     // VLC Videolan\n            /(vlc)\\/((\\d+)[\\w\\.-]+)/i,\n            /(xbmc|gvfs|xine|xmms|irapp)\\/((\\d+)[\\w\\.-]+)/i,                    // XBMC/gvfs/Xine/XMMS/irapp\n            /(foobar2000)\\/((\\d+)[\\d\\.]+)/i,                                    // Foobar2000\n            /(itunes)\\/((\\d+)[\\d\\.]+)/i                                         // iTunes\n            ], [NAME, VERSION], [\n\n            /(wmplayer)\\/((\\d+)[\\w\\.-]+)/i,                                     // Windows Media Player\n            /(windows-media-player)\\/((\\d+)[\\w\\.-]+)/i\n            ], [[NAME, /-/g, ' '], VERSION], [\n\n            /windows\\/((\\d+)[\\w\\.-]+) upnp\\/[\\d\\.]+ dlnadoc\\/[\\d\\.]+ (home media server)/i\n                                                                                // Windows Media Server\n            ], [VERSION, [NAME, 'Windows']], [\n\n            /(com\\.riseupradioalarm)\\/((\\d+)[\\d\\.]*)/i                          // RiseUP Radio Alarm\n            ], [NAME, VERSION], [\n\n            /(rad.io)\\s((\\d+)[\\d\\.]+)/i,                                        // Rad.io\n            /(radio.(?:de|at|fr))\\s((\\d+)[\\d\\.]+)/i\n            ], [[NAME, 'rad.io'], VERSION]\n\n            //////////////////////\n            // Media players END\n            ////////////////////*/\n\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i                     // AMD64\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, util.lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows\\s(ce|mobile);\\sppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i                           // PowerPC\n            ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+;))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, util.lowerize]]\n        ],\n\n        device : [[\n\n            /\\((ipad|playbook);[\\w\\s\\);-]+(rim|apple)/i                         // iPad/PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/                                  // iPad\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, TABLET]], [\n\n            /(apple\\s{0,1}tv)/i                                                 // Apple TV\n            ], [[MODEL, 'Apple TV'], [VENDOR, 'Apple']], [\n\n            /(archos)\\s(gamepad2?)/i,                                           // Archos\n            /(hp).+(touchpad)/i,                                                // HP TouchPad\n            /(hp).+(tablet)/i,                                                  // HP Tablet\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /\\s(nook)[\\w\\s]+build\\/(\\w+)/i,                                     // Nook\n            /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i                                  // Dell Streak\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(kf[A-z]+)\\sbuild\\/.+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n            /(sd|kf)[0349hijorstuw]+\\sbuild\\/.+silk\\//i                         // Fire Phone\n            ], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, 'Amazon'], [TYPE, MOBILE]], [\n\n            /\\((ip[honed|\\s\\w*]+);.+(apple)/i                                   // iPod/iPhone\n            ], [MODEL, VENDOR, [TYPE, MOBILE]], [\n            /\\((ip[honed|\\s\\w*]+);/i                                            // iPod/iPhone\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, MOBILE]], [\n\n            /(blackberry)[\\s-]?(\\w+)/i,                                         // BlackBerry\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]*)/i,\n                                                                                // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp)\\s([\\w\\s]+\\w)/i,                                               // HP iPAQ\n            /(asus)-?(\\w+)/i                                                    // Asus\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /\\(bb10;\\s(\\w+)/i                                                   // BlackBerry 10\n            ], [MODEL, [VENDOR, 'BlackBerry'], [TYPE, MOBILE]], [\n                                                                                // Asus Tablets\n            /android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone)/i\n            ], [MODEL, [VENDOR, 'Asus'], [TYPE, TABLET]], [\n\n            /(sony)\\s(tablet\\s[ps])\\sbuild\\//i,                                  // Sony\n            /(sony)?(?:sgp.+)\\sbuild\\//i\n            ], [[VENDOR, 'Sony'], [MODEL, 'Xperia Tablet'], [TYPE, TABLET]], [\n            /android.+\\s([c-g]\\d{4}|so[-l]\\w+)\\sbuild\\//i\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n\n            /\\s(ouya)\\s/i,                                                      // Ouya\n            /(nintendo)\\s([wids3u]+)/i                                          // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n\n            /android.+;\\s(shield)\\sbuild/i                                      // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n\n            /(playstation\\s[34portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, CONSOLE]], [\n\n            /(sprint\\s(\\w+))/i                                                  // Sprint Phones\n            ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [\n\n            /(lenovo)\\s?(S(?:5000|6000)+(?:[-][\\w+]))/i                         // Lenovo tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(htc)[;_\\s-]+([\\w\\s]+(?=\\))|\\w+)*/i,                               // HTC\n            /(zte)-(\\w*)/i,                                                     // ZTE\n            /(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]*)/i\n                                                                                // Alcatel/GeeksPhone/Lenovo/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            /(nexus\\s9)/i                                                       // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n\n            /d\\/huawei([\\w\\s-]+)[;\\)]/i,\n            /(nexus\\s6p)/i                                                      // Huawei\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, MOBILE]], [\n\n            /(microsoft);\\s(lumia[\\s\\w]+)/i                                     // Microsoft Lumia\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i                                   // Microsoft Xbox\n            ], [MODEL, [VENDOR, 'Microsoft'], [TYPE, CONSOLE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, 'Microsoft'], [TYPE, MOBILE]], [\n\n                                                                                // Motorola\n            /\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?:?(\\s4g)?)[\\w\\s]+build\\//i,\n            /mot[\\s-]?(\\w*)/i,\n            /(XT\\d{3,4}) build\\//i,\n            /(nexus\\s6)/i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, MOBILE]], [\n            /android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, TABLET]], [\n\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i            // HbbTV devices\n            ], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [\n\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, 'Samsung'], [TYPE, SMARTTV]], [\n\n            /\\(dtv[\\);].+(aquos)/i                                              // Sharp\n            ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [\n\n            /android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i,\n            /((SM-T\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [                  // Samsung\n            /smart-tv.+(samsung)/i\n            ], [VENDOR, [TYPE, SMARTTV], MODEL], [\n            /((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i,\n            /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)/i,\n            /sec-((sgh\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [\n\n            /sie-(\\w*)/i                                                        // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n\n            /(maemo|nokia).*(n900|lumia\\s\\d+)/i,                                // Nokia\n            /(nokia)[\\s_-]?([\\w-]*)/i\n            ], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [\n\n            /android\\s3\\.[\\s\\w;-]{10}(a\\d{3})/i                                 // Acer\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            /android.+([vl]k\\-?\\d{3})\\s+build/i                                 // LG Tablet\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, TABLET]], [\n            /android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i                     // LG Tablet\n            ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [\n            /(lg) netcast\\.tv/i                                                 // LG SmartTV\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /(nexus\\s[45])/i,                                                   // LG\n            /lg[e;\\s\\/-]+(\\w*)/i,\n            /android.+lg(\\-?[\\d\\w]+)\\s+build/i\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, MOBILE]], [\n\n            /android.+(ideatab[a-z0-9\\-\\s]+)/i                                  // Lenovo\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            /linux;.+((jolla));/i                                               // Jolla\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /((pebble))app\\/[\\d\\.]+\\s/i                                         // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n\n            /android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i                            // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, 'Chromecast'], [VENDOR, 'Google']], [\n\n            /android.+;\\s(glass)\\s\\d/i                                          // Google Glass\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, WEARABLE]], [\n\n            /android.+;\\s(pixel c)\\s/i                                          // Google Pixel C\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, TABLET]], [\n\n            /android.+;\\s(pixel xl|pixel)\\s/i                                   // Google Pixel\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, MOBILE]], [\n\n            /android.+;\\s(\\w+)\\s+build\\/hm\\1/i,                                 // Xiaomi Hongmi 'numeric' models\n            /android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build/i,               // Xiaomi Hongmi\n            /android.+(mi[\\s\\-_]*(?:one|one[\\s_]plus|note lte)?[\\s_]*(?:\\d?\\w?)[\\s_]*(?:plus)?)\\s+build/i,    // Xiaomi Mi\n            /android.+(redmi[\\s\\-_]*(?:note)?(?:[\\s_]*[\\w\\s]+))\\s+build/i       // Redmi Phones\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, MOBILE]], [\n            /android.+(mi[\\s\\-_]*(?:pad)(?:[\\s_]*[\\w\\s]+))\\s+build/i            // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, TABLET]], [\n            /android.+;\\s(m[1-5]\\snote)\\sbuild/i                                // Meizu Tablet\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, TABLET]], [\n\n            /android.+a000(1)\\s+build/i,                                        // OnePlus\n            /android.+oneplus\\s(a\\d{4})\\s+build/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i                            // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n\n            /android.+[;\\/\\s]+(Venue[\\d\\s]{2,7})\\s+build/i                      // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i                         // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i     // Barnes & Noble Tablet\n            ], [[VENDOR, 'Barnes & Noble'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i                           // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n\n            /android.+;\\s(k88)\\sbuild/i                                         // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i                         // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(zur\\d{3})\\s+build/i                              // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i                         // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n\n            /(android).+[;\\/]\\s+([YR]\\d{2})\\s+build/i,\n            /android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(\\w{5})\\sbuild/i        // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(NS-?\\w{0,9})\\sbuild/i                            // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((NX|Next)-?\\w{0,9})\\s+build/i                    // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Xtreme\\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [                    // Voice Xtreme Phones\n\n            /android.+[;\\/]\\s*(LVTEL\\-)?(V1[12])\\s+build/i                     // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i          // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(\\w{1,9})\\s+build/i          // Le Pan Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trio[\\s\\-]*.*)\\s+build/i                         // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i                // Trinity Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*TU_(1491)\\s+build/i                               // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n\n            /android.+(KS(.+))\\s+build/i                                        // Amazon Kindle Tablets\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n\n            /android.+(Gigaset)[\\s\\-]+(Q\\w{1,9})\\s+build/i                      // Gigaset Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /\\s(tablet|tab)[;\\/]/i,                                             // Unidentifiable Tablet\n            /\\s(mobile)(?:[;\\/]|\\ssafari)/i                                     // Unidentifiable Mobile\n            ], [[TYPE, util.lowerize], VENDOR, MODEL], [\n\n            /(android[\\w\\.\\s\\-]{0,9});.+build/i                                 // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n\n\n        /*//////////////////////////\n            // TODO: move to string map\n            ////////////////////////////\n\n            /(C6603)/i                                                          // Sony Xperia Z C6603\n            ], [[MODEL, 'Xperia Z C6603'], [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n            /(C6903)/i                                                          // Sony Xperia Z 1\n            ], [[MODEL, 'Xperia Z 1'], [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n\n            /(SM-G900[F|H])/i                                                   // Samsung Galaxy S5\n            ], [[MODEL, 'Galaxy S5'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G7102)/i                                                       // Samsung Galaxy Grand 2\n            ], [[MODEL, 'Galaxy Grand 2'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G530H)/i                                                       // Samsung Galaxy Grand Prime\n            ], [[MODEL, 'Galaxy Grand Prime'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G313HZ)/i                                                      // Samsung Galaxy V\n            ], [[MODEL, 'Galaxy V'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-T805)/i                                                        // Samsung Galaxy Tab S 10.5\n            ], [[MODEL, 'Galaxy Tab S 10.5'], [VENDOR, 'Samsung'], [TYPE, TABLET]], [\n            /(SM-G800F)/i                                                       // Samsung Galaxy S5 Mini\n            ], [[MODEL, 'Galaxy S5 Mini'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-T311)/i                                                        // Samsung Galaxy Tab 3 8.0\n            ], [[MODEL, 'Galaxy Tab 3 8.0'], [VENDOR, 'Samsung'], [TYPE, TABLET]], [\n\n            /(T3C)/i                                                            // Advan Vandroid T3C\n            ], [MODEL, [VENDOR, 'Advan'], [TYPE, TABLET]], [\n            /(ADVAN T1J\\+)/i                                                    // Advan Vandroid T1J+\n            ], [[MODEL, 'Vandroid T1J+'], [VENDOR, 'Advan'], [TYPE, TABLET]], [\n            /(ADVAN S4A)/i                                                      // Advan Vandroid S4A\n            ], [[MODEL, 'Vandroid S4A'], [VENDOR, 'Advan'], [TYPE, MOBILE]], [\n\n            /(V972M)/i                                                          // ZTE V972M\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n\n            /(i-mobile)\\s(IQ\\s[\\d\\.]+)/i                                        // i-mobile IQ\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(IQ6.3)/i                                                          // i-mobile IQ IQ 6.3\n            ], [[MODEL, 'IQ 6.3'], [VENDOR, 'i-mobile'], [TYPE, MOBILE]], [\n            /(i-mobile)\\s(i-style\\s[\\d\\.]+)/i                                   // i-mobile i-STYLE\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(i-STYLE2.1)/i                                                     // i-mobile i-STYLE 2.1\n            ], [[MODEL, 'i-STYLE 2.1'], [VENDOR, 'i-mobile'], [TYPE, MOBILE]], [\n\n            /(mobiistar touch LAI 512)/i                                        // mobiistar touch LAI 512\n            ], [[MODEL, 'Touch LAI 512'], [VENDOR, 'mobiistar'], [TYPE, MOBILE]], [\n\n            /////////////\n            // END TODO\n            ///////////*/\n\n        ],\n\n        engine : [[\n\n            /windows.+\\sedge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, 'EdgeHTML']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\\/([\\w\\.]+)/i,     // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m\n            /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,                          // KHTML/Tasman/Links\n            /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i                                      // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9}).+(gecko)/i                                       // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows based\n            /microsoft\\s(windows)\\s(vista|xp)/i                                 // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows)\\snt\\s6\\.2;\\s(arm)/i,                                     // Windows RT\n            /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s\\w]*)/i,                   // Windows Phone\n            /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i\n            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [\n            /(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\n            // Mobile/Embedded OS\n            /\\((bb)(10);/i                                                      // BlackBerry 10\n            ], [[NAME, 'BlackBerry'], VERSION], [\n            /(blackberry)\\w*\\/?([\\w\\.]*)/i,                                     // Blackberry\n            /(tizen)[\\/\\s]([\\w\\.]+)/i,                                          // Tizen\n            /(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|contiki)[\\/\\s-]?([\\w\\.]*)/i,\n                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo/Contiki\n            /linux;.+(sailfish);/i                                              // Sailfish OS\n            ], [NAME, VERSION], [\n            /(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]*)/i                  // Symbian\n            ], [[NAME, 'Symbian'], VERSION], [\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME], [\n            /mozilla.+\\(mobile;.+gecko.+firefox/i                               // Firefox OS\n            ], [[NAME, 'Firefox OS'], VERSION], [\n\n            // Console\n            /(nintendo|playstation)\\s([wids34portablevu]+)/i,                   // Nintendo/Playstation\n\n            // GNU/Linux based\n            /(mint)[\\/\\s\\(]?(\\w*)/i,                                            // Mint\n            /(mageia|vectorlinux)[;\\s]/i,                                       // Mageia/VectorLinux\n            /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]*)/i,\n                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus\n            /(hurd|linux)\\s?([\\w\\.]*)/i,                                        // Hurd/Linux\n            /(gnu)\\s?([\\w\\.]*)/i                                                // GNU\n            ], [NAME, VERSION], [\n\n            /(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i                                       // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Solaris\n            /(sunos)\\s?([\\w\\.\\d]*)/i                                            // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n\n            // BSD based\n            /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]*)/i                    // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n            ], [NAME, VERSION],[\n\n            /(haiku)\\s(\\w+)/i                                                   // Haiku\n            ], [NAME, VERSION],[\n\n            /cfnetwork\\/.+darwin/i,\n            /ip[honead]{2,4}(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i             // iOS\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n\n            /(mac\\sos\\sx)\\s?([\\w\\s\\.]*)/i,\n            /(macintosh|mac(?=_powerpc)\\s)/i                                    // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Other\n            /((?:open)?solaris)[\\/\\s-]?([\\w\\.]*)/i,                             // Solaris\n            /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.])*/i,                                // AIX\n            /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms)/i,\n                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS/OpenVMS\n            /(unix)\\s?([\\w\\.]*)/i                                               // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n\n    /////////////////\n    // Constructor\n    ////////////////\n    /*\n    var Browser = function (name, version) {\n        this[NAME] = name;\n        this[VERSION] = version;\n    };\n    var CPU = function (arch) {\n        this[ARCHITECTURE] = arch;\n    };\n    var Device = function (vendor, model, type) {\n        this[VENDOR] = vendor;\n        this[MODEL] = model;\n        this[TYPE] = type;\n    };\n    var Engine = Browser;\n    var OS = Browser;\n    */\n    var UAParser = function (uastring, extensions) {\n\n        if (typeof uastring === 'object') {\n            extensions = uastring;\n            uastring = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(uastring, extensions).getResult();\n        }\n\n        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;\n        //var browser = new Browser();\n        //var cpu = new CPU();\n        //var device = new Device();\n        //var engine = new Engine();\n        //var os = new OS();\n\n        this.getBrowser = function () {\n            var browser = { name: undefined, version: undefined };\n            mapper.rgx.call(browser, ua, rgxmap.browser);\n            browser.major = util.major(browser.version); // deprecated\n            return browser;\n        };\n        this.getCPU = function () {\n            var cpu = { architecture: undefined };\n            mapper.rgx.call(cpu, ua, rgxmap.cpu);\n            return cpu;\n        };\n        this.getDevice = function () {\n            var device = { vendor: undefined, model: undefined, type: undefined };\n            mapper.rgx.call(device, ua, rgxmap.device);\n            return device;\n        };\n        this.getEngine = function () {\n            var engine = { name: undefined, version: undefined };\n            mapper.rgx.call(engine, ua, rgxmap.engine);\n            return engine;\n        };\n        this.getOS = function () {\n            var os = { name: undefined, version: undefined };\n            mapper.rgx.call(os, ua, rgxmap.os);\n            return os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return ua;\n        };\n        this.setUA = function (uastring) {\n            ua = uastring;\n            //browser = new Browser();\n            //cpu = new CPU();\n            //device = new Device();\n            //engine = new Engine();\n            //os = new OS();\n            return this;\n        };\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER = {\n        NAME    : NAME,\n        MAJOR   : MAJOR, // deprecated\n        VERSION : VERSION\n    };\n    UAParser.CPU = {\n        ARCHITECTURE : ARCHITECTURE\n    };\n    UAParser.DEVICE = {\n        MODEL   : MODEL,\n        VENDOR  : VENDOR,\n        TYPE    : TYPE,\n        CONSOLE : CONSOLE,\n        MOBILE  : MOBILE,\n        SMARTTV : SMARTTV,\n        TABLET  : TABLET,\n        WEARABLE: WEARABLE,\n        EMBEDDED: EMBEDDED\n    };\n    UAParser.ENGINE = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n    UAParser.OS = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n    //UAParser.Utils = util;\n\n    ///////////\n    // Export\n    //////////\n\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        // TODO: test!!!!!!!!\n        /*\n        if (require && require.main === module && process) {\n            // cli\n            var jsonize = function (arr) {\n                var res = [];\n                for (var i in arr) {\n                    res.push(new UAParser(arr[i]).getResult());\n                }\n                process.stdout.write(JSON.stringify(res, null, 2) + '\\n');\n            };\n            if (process.stdin.isTTY) {\n                // via args\n                jsonize(process.argv.slice(2));\n            } else {\n                // via pipe\n                var str = '';\n                process.stdin.on('readable', function() {\n                    var read = process.stdin.read();\n                    if (read !== null) {\n                        str += read;\n                    }\n                });\n                process.stdin.on('end', function () {\n                    jsonize(str.replace(/\\n$/, '').split('\\n'));\n                });\n            }\n        }\n        */\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (window) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = window && (window.jQuery || window.Zepto);\n    if (typeof $ !== UNDEF_TYPE) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (uastring) {\n            parser.setUA(uastring);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/ua-parser-js/src/ua-parser.js\n// module id = 79\n// module chunks = 1 2 4","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/webpack/buildin/amd-options.js\n// module id = 80\n// module chunks = 1 2 4"],"sourceRoot":""}